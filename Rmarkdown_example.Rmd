---
title: "__Example Rmarkdown report__"
output:
  html_document:
    self_contained: yes
---
<!--- A couple of lines have been changed so this won't run as is, the file paths in lines 62 and 199 -->

# Code chunks
Code chunks ae created by entering code between delimiters ` ```{r} `  and ` ``` `

There are a number of options around running and displaying code chunks that can be applied globally or locally.

# Global options and chunk options
* include = FALSE prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks
* echo = FALSE prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures
* message = FALSE prevents messages that are generated by code from appearing in the finished file
* warning = FALSE prevents warnings that are generated by code from appearing in the finished
* fig.cap = "..." adds a caption to graphical results

The code chunk below sets global options to not show warnings and to increase the output width to 200%, the chunk is also using local option of echo = TRUE to show the code in the finished file
  
```{r global options, echo = T, include = T}
# set Global Knitr options
knitr::opts_chunk$set(warning = F)
knitr::opts_chunk$set(out.width = "200%")
```

## Document text

To add text to a document simply type without any delimiters like this.  To create headings simply use the # symbol, with additional # symbols denoting the heading heirarchy, for example:

# Heading 1
## Heading 2
### Heading 3
#### etc.

Bullet points can be created by using the * symbol

* Point 1
    + Point 1 Item 1 (two tabs to create a sub-level)
* Point 2
* Point 3

1. One
    1.1 Point 1 Item 1
2. Two
3. Three

To add italics text use either single `_` or single `*` either side of the test, for example _insert text here_ or *insert text here*

To add bold text use either double `__` or `**` double either side of the test, for example __insert text here__ or **insert text here**

# Tables and Figures
Figures can be generated using R code, or can be inserted from a file

### Adding a Figure through code
Captions, size, alignment etc. of the figures can be controlled through the code delimiter
```{r, echo = T, include = T, fig.cap = "Figure 1: Word cloud R code plotting example", fig.width = 8, fig.height = 8}
# load packages
library(ctv)
library(tm)
library(SnowballC)
library(wordcloud)
library(RColorBrewer)

# load in the 'Intro to coding in SAS' document
cname <- file.path("insert path here")
docs <- Corpus(DirSource(cname))

# remove symbols, punctuation, stopwords etc.
for (j in seq(docs)) {docs[[j]] <- gsub("/"," ",docs[[j]])} 
for (j in seq(docs)) {docs[[j]] <- gsub("@"," ",docs[[j]])}

docs <- tm_map(docs, tolower)
docs <- tm_map(docs, removeWords, stopwords("english"))
docs <- tm_map(docs, removeNumbers)
docs <- tm_map(docs, removePunctuation)
docs <- tm_map(docs, stripWhitespace)
docs <- tm_map(docs, PlainTextDocument)

# create structured data from the document
dtm <- DocumentTermMatrix(docs)

# create a matrix from the document, and a data frame of the words and frequencies
m <- as.matrix(dtm)
v <- sort(colSums(m), decreasing = TRUE)
words <- names(v)
d <- data.frame(word=words, freq=v)

# create the word cloud
wordcloud(d$word, d$freq, min.freq = 25, random.order = FALSE, colors =brewer.pal(8, "Dark2"))
```

### Adding a Figure from a file
```{r, echo = T, eval = FALSE}
## matrix plot (the movie)

# generate pairs of x-y values
nx = 75
ny = 75
x = sample(x = 1:nx, size = 75, replace = TRUE)
y = seq(-1, -ny, length = 75)

# set graphical parameters
op = par(bg = "black", mar = c(0, 0.2, 0, 0.2))

# plot
plot(1:nx, seq(-1, -nx), type = "n", xlim = c(1, nx), ylim = c(-ny + 10, 1))
for (i in seq_along(x)){
  aux = sample(1:ny, 1)
  points(rep(x[i], aux), y[1:aux], pch = sample(letters, aux, replace = TRUE), 
         col = hsv(0.35, 1, 1, runif(aux, 0.3)), cex = runif(aux, 0.3))
}

```

Captions, size, alignment etc. of the figures can be controlled through code arguments around each image file
![Figure 2: Matrix plot (the movie) inserted from a .jpeg](path/Matrix Plot.png){width=125%}

### Adding tables through code
Data can be added to a document simply by returning an object such as an array or frame, or it can be output in to a formattable table
```{r, echo = T, include = T}
# returning an object
head(mtcars[, 1:7])

# HTML table
knitr::kable(head(mtcars[, 1:7]), caption = "Table 1: Example HTML table") %>% kable_styling()
```
# Adding inline code and equations

### Inline code
Inline code can be written within a pair of backquotes , e.g. `insert inline code here`

### Simple inline formula
Inline equations can be written within a pair of dollar `$` signs using $\LaTeX$ syntax, e.g. $y = mx + c$

### Equations as a block
Equations can be written as a block within a pair of double dollar signs `$$` using $\LaTeX$ syntax, e.g.
$$\int_\Omega \nabla u \cdot \nabla v~dx = \int_\Omega fv~dx$$
 
